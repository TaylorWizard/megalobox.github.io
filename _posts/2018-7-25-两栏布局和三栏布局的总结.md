---
layout: post
title:  "两栏布局和三栏布局的总结"
date:   2018-07-25 17:20:19 +0800
categories: css
tags: css-layout
description: 本文介绍了各种两栏和三栏自适应布局
---

### BFC(block formatting context), 块级格式上下文

##### W3C文档

> In a block formatting context, boxes are laid out one after the other, vertically, beginning at the top of a containing block. The vertical distance between two sibling boxes is determined by the'margin' properties. Vertical margins between adjacent block-level boxes in a block formatting context collapse.

> In a block formatting context, each box's left outer edge touches the left edge of the containing block (for right-to-left formatting, right edges touch). This is true even in the presence of floats (although a box's line boxes may shrink due to the floats), unless the box establishes a new block formatting context (in which case the box itself may become narrower due to the floats).

 - ##### Block Formatting Context, 就是块级格式上下文。BFC指的就是一个有着自己布局方式的区域, 这个区域内的容器称为containing block, 这个区域的盒子们从这个containing block的顶部一个接一个的垂直排列, 水平方向将宽度撑满(除非内部盒子自己创建了新的BFC)。两个BFC相邻的距离由margin决定, 在同一个BFC内部的垂直方向上的两个相邻的块级盒子的margin会发生“塌陷”。

- ##### 文档其实也间接指出了垂直方向的两个块级元素margin塌陷问题可以分别给两个元素创建BFC。

- ##### 简单的说,BFC就是一个完全封闭的盒子,不受外部的影响,并且外部也不能影响它。

- ##### 具体的作用请看参考链接

参考链接：[深入理解BFC原理及应用](https://www.jianshu.com/p/acf76871d259)
來源：简书

### 两栏布局(<span style="color:#cc6699;">左自适应，右固定以及左固定,右自适应</span>)

#### 一、用calc计算属性
- html
```html
   <h4>Left fixed, right self-adaption</h4>
   <div className="box right-adaption">
       <div className="left">left side</div>
       <div className="right">right side</div>
   </div>
   <h4>Left self-adaption, right fixed</h4>
   <div className="box left-adaption">
       <div className="left">left side</div>
       <div className="right">right side</div>
   </div>
```
- less
```less
  .box {
    overflow: hidden;
    height: 100px;
    margin: 0 0;

    &.right-adaption {
      div {
        float: left;
        height: 100%;
        &.left {
          width: 150px;
          background-color:  #cc6699;
        }
        &.right {
          background-color: #45bfe3;
          width: calc(100% - 150px);
        }
      }
    }

    &.left-adaption {
      div {
        float: left;
        height: 100%;
        &.left {
          width: calc(100% - 150px);
          background-color: #cc6699;
        }
        &.right {
          background-color: #45bfe3;
          width: 150px;
        }
      }
    }
  }
```

#### 二、float加margin布局

- **tips**: <strong style="color:#cc6699;">浮动元素要放在前面不然会被挤下去</strong>

- html
```html
   <h4>Left fixed, right self-adaption</h4>
   <div className="box right-adaption">
       <div className="left">left side</div>
       <div className="right">right side</div>
   </div>

   <h4>Left self-adaption, right fixed</h4>
   <div className="box left-adaption">
       <div className="right">right side</div>
       <div className="left">left side</div>
   </div>
```

- less
```less
  .box {
    height: 100px;
    overflow: hidden;
    margin: 10px 0;


    &.right-adaption {
      div {
        height: 100%;
        &.left {
          float: left;
          width: 150px;
          background-color: #cc6699;
        }
        &.right {
          margin-left: 150px;
          background-color: #45bfe3;
        }
      }
    }

    &.left-adaption {
      div {
        height: 100%;
        &.left {
          margin-right: 150px;
          background-color: #cc6699;
        }
        &.right {
          float: right;
          width: 150px;
          background-color: #45bfe3;
        }
      }
    }
  }
```
#### 三、浮动元素加BFC布局
- **tips**: <strong style="color:#cc6699;">利用BFC不会覆盖float元素的特性</strong>

- html
```html
    <h4>Left fixed, right self-adaption</h4>
    <div className="box right-adaption">
        <div className="left">left side</div>
        <div className="right">right side</div>
    </div>

    <h4>Left self-adaption, right fixed</h4>
    <div className="box left-adaption">
        <div className="right">right side</div>
        <div className="left">left side</div>
    </div>
```

- less
```less
  .box {
    overflow: hidden;
    height: 100px;
    margin: 10px 0;
    &.right-adaption {
      div {
        height: 100%;
      }
      .left {
        float: left;
        width: 150px;
        background-color: #cc6699;
      }
      .right {
        overflow: hidden;
        background-color: #45bfe3;
      }
    }
    &.left-adaption {
      div {
        height: 100%;
      }
      .left {
        overflow: hidden;
        background-color: #cc6699;
      }
      .right {
        float: right;
        width: 150px;
        background-color: #45bfe3;
      }
    }
  }
```

#### 四、absolute加margin
- html
```html
    <h4>Left fixed, right self-adaption</h4>
    <div className="box right-adaption">
        <div className="left">left side</div>
        <div className="right">right side</div>
    </div>

    <h4>Left self-adaption, right fixed</h4>
    <div className="box left-adaption">
        <div className="left">left side</div>
        <div className="right">right side</div>
    </div>
```

- less
```less
  .box {
    overflow: hidden;
    height: 100px;
    margin: 0 0;
    position: relative;

    &.right-adaption {
      div {
        height: 100px;
        &.left {
          position: absolute;
          width: 150px;
          left: 0;
          top: 0;
          background-color: #cc6699;
        }
        &.right {
          margin-left: 150px;
          background-color: #45bfe3;
        }
      }
    }

    &.left-adaption {
      div {
        height: 100px;
        &.left {
          margin-right: 150px;
          background-color: #cc6699;
        }
        &.right {
          position: absolute;
          width: 150px;
          right: 0;
          top: 0;
          background-color: #45bfe3;
        }
      }
    }
  }
```

#### 五、absolute布局
- html
```html
    <h4>Left fixed, right self-adaption</h4>
    <div className="box right-adaption">
        <div className="left">left side</div>
        <div className="right">right side</div>
    </div>
    <h4>Left self-adaption, right fixed</h4>
    <div className="box left-adaption">
        <div className="left">left side</div>

        <div className="right">right side</div>
    </div>
```

- less
```less
  .box {
    overflow: hidden;
    height: 100px;
    margin: 0 0;
    position: relative;

    &.right-adaption {
      div {
        height: 100px;
        &.left {
          position: absolute;
          left: 0;
          top: 0;
          width: 150px;
          background-color: #cc6699;
        }
        &.right {
          position: absolute;
          left: 150px;
          right: 0;
          top: 0;
          background-color: #45bfe3;
        }
      }
    }

    &.left-adaption {
      div {
        height: 100px;
        &.left {
          position: absolute;
          left: 0;
          top: 0;
          right: 150px;
          background-color: #cc6699;
        }
        &.right {
          position: absolute;
          right: 0;
          top: 0;
          width: 150px;
          background-color: #45bfe3;
        }
      }
    }
  }
```


#### 六、flex布局

- **tips**: 参考链接 [flex语法](http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html)
- html
```html
    <h4>Left fixed, right self-adaption</h4>
    <div className="box right-adaption">
        <div className="left">left side</div>
        <div className="right">right side</div>
    </div>

    <h4>Left self-adaption, right fixed</h4>
    <div className="box left-adaption">
        <div className="left">left side</div>
        <div className="right">right side</div>
    </div>
```

- less
```less
  .box {
    overflow: hidden;
    height: 100px;
    margin: 0 0;
    display: flex;
    flex-flow: row nowrap;
    &.right-adaption {
      div {
        height: 100px;
        &.left {
          flex: 0 0 150px;
          background-color: #cc6699;
        }
        &.right {
          flex: auto;
          background-color: #45bfe3;
        }
      }
    }
    &.left-adaption {
      div {
        height: 100px;
        &.left {
          flex: auto;
          background-color: #cc6699;
        }
        &.right {
          flex: 0 1 150px;
          background-color: #45bfe3;
        }
      }
    }
  }
```
  
---

### 三栏布局(<span style="color:#cc6699;">中间自适应，两边固定</span>)

#### 一、flex布局
- html
```html
    <div className="box">
        <div className="left">left side</div>
        <div className="main">main</div>
        <div className="right">right side</div>
    </div>
```

- less
```less
  .box {
    overflow: hidden;
    height: 100px;
    margin: 0;
    display: flex;
    flex-flow: row nowrap;
    div {
      height: 100%;
      &.left {
        flex: 0 1 120px;
        background-color: #cc6699;
      }
      &.main {
        flex: auto;
        background-color: #74bb49;
      }
      &.right {
        flex: 0 1 120px;
        background-color: #45bfe3;
      }
    }
  }
```

#### 二、absolute布局加margin
- html
```html
    <div className="box">
        <div className="left">left side</div>
        <div className="main">main</div>
        <div className="right">right side</div>
    </div>
```

- less
```less
  .box {
    overflow: hidden;
    height: 100px;
    margin: 0;
    position: relative;
    div {
      height: 100%;
      &.left {
        position: absolute;
        left: 0;
        top:0;
        width: 120px;
        background-color: #cc6699;
      }
      &.main {
        margin: 0 120px;
        background-color: #74bb49;
      }
      &.right {
        position: absolute;
        right: 0;
        top: 0;
        width: 120px;
        background-color: #45bfe3;
      }
    }
  }
```

#### 三、float加margin(<span style="color:#cc6699;">不推荐</span>)
- **tips**: <strong style="color:#cc6699;">这里是一样的将float元素放前面,不然会被挤下去。</strong>
- html
```html
    <div className="box">
        <div className="left">left side</div>
        <div className="right">right side</div>
        <div className="main">main</div>
    </div>
```

- less
```less
  .box {
    overflow: hidden;
    margin: 0;
    height: 100px;

    div {
      height: 100%;
      &.left {
        float: left;
        width: 120px;
        background-color: #cc6699;
      }
      &.right {
        float: right;
        width: 120px;
        background-color: #45bfe3;
      }
      &.main {
        margin: 0 120px;
        background-color: #74bb49;
      }
    }
  }
```


#### 四、负margin值加float(<span style="color:#cc6699;">不推荐</span>)
- **tips**: <strong style="color: #cc6699;">这里要注意下main left right 三个div的先后顺序, 当容器宽度小于一个值得时候float元素还是会及挤压到下一行，这个值得根据还在学习</strong>
- html
```html
 <div className="box">
     <div className="main">main</div>
     <div className="left">left</div>
     <div className="right">right</div>
 </div>
```

- less
```less
  .box {
    height: 100px;
    overflow: hidden;
    margin: 0;
    padding: 0 150px;
    div {
      height: 100%;
      position: relative;
      float:left;
      &.main {
        width: 100%;
        background-color: #cc6699;
      }
      &.left {
        width: 150px;
        margin-left: -100%;
        left: -150px;
        background-color: #45bfe3;
      }
      &.right {
        width: 150px;
        margin-left: -150px;
        right: -150px;
        background-color: #74bb49;
      }
    }
  }
```
  